iOS Akademija

# Predavanja / 01

KreeeeeeÄ‡emo!

U paraleli uÄimo:
* osnovne programske koncepte
* Swift 3
* Kreiranje UI za iOS app



## Swift Playgrounds

[Apple Help/opis](https://developer.apple.com/library/prerelease/ios/recipes/Playground_Help/_index.html) za Playgrounds

* [Å ta su Swift Playgrounds](https://medium.com/swift-programming/swift-playgrounds-interactive-awesomeness-2a74143c233), blog post Keitha Elliotta
* [Predstavljanje Playgrounds](https://developer.apple.com/swift/blog/?id=35) na Swift blogu
* [Introducing Swift Playgrounds](https://developer.apple.com/videos/play/wwdc2016/408/), sesija 408 sa WWDC 2016




## Swift osnove

* Promenljive (variables) i konstante (constants)

```
var channel = 20
var newChannel: Int = 30

let swiftBirthYear = 2014
```

Bilo koji znak â€“ ukljuÄujuÄ‡i i ğŸ˜€â˜ºï¸ğŸ˜‡ğŸ¶ğŸ® â€“ moÅ¾e biti u imenu promenljive, konstante itd.

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Word of Lattner. <a href="https://t.co/VmaYzDiNAR">pic.twitter.com/VmaYzDiNAR</a></p>&mdash; ericasadun (@ericasadun) <a href="https://twitter.com/ericasadun/status/677647501990764546">December 18, 2015</a></blockquote> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

Komentarisanje koda (comments) se radi na dva naÄina:

```
// ovo je jedno-linijski komentar

/*
	Ovo je viÅ¡e linijski komentar
*/
```

### Tipovi podataka (Data Types)

Prosti tipovi
* NumeriÄki: `Int`, `UInt`, `Float`, `Double`, `Bool` itd.
* Tekstualni: `String`, `Character` itd.

String je priliÄno moÄ‡an tip podataka koja ima tuÅ¡tma i tma moguÄ‡nosti koriÅ¡Ä‡enja. U Swift 3 udÅ¾beniku imate dosta stranica o tome ali Ä‡emo ih za sada preskoÄiti i vratiti se na to dalje u  kursu kroz praktiÄne primere.

* NumeriÄki operatori: `+`, `-`, `*`, `/` i `%` (ostatak deljenja)
* Dodeljivanje vrednosti: `=`
* Compound operatori: `+=`, `-=`, `*=`, `/=`, `%=`

* Unary `minus` operator se primenjuje za brojeve (Int, Double i ekipa): `-` 
Primer:
```
var x = 20
var y = -x		//	y je sada -20
```

* Comparison operators: `<`, `<=`, `>`, `>=`, `==` (jednakost), `!=` (razliÄitost)

* Logical operators: `&&` (AND), `||` (OR)
Primenjuju se iskljuÄivo nad logiÄkim (`Bool`) promenljivama ili vrednostima
* Negacija spada u logiÄke operatore i primenjuje se iskljuÄivo nad `Bool` vrednostima ili promenljivama:
```
var bx = true
var by = !bx		//	y je sada false
```

* Ternary operator:
```
var bx = true
var by = false
var bz = true
var brez = (bx) ? by : bz
```

Ovo se tumaÄi na sledeÄ‡i naÄin:
- ako je `bx` jednako `true`, onda Ä‡e vrednost `by` biti dodeljena `brez`
- ako je `bx` jednako `false`, onda Ä‡e vrednost `bz` biti dodeljena `brez`

## Definicija sopstvenih tipova

```
typealias AudioChannel = Int
var zvuk: AudioChannel = 0
```

Ovo je najtrivijalnija definicija sopstvenih tipova podataka. 

Ima joÅ¡ mnogo naÄina koje Ä‡emo proÄ‡i kroz kurs a spomenuo sam ih veÄ‡ sada jer prilikom pisanja aplikacija **vi baratate gotovo iskljuÄivo sa tipovima podataka koje sami definiÅ¡ete** (u veÄ‡oj ili manjoj meri).

### Tuples

Kompleksniji tip podatka koji se sastoji od dva ili viÅ¡e osnovnih tipova:

```
let http404 = (404, "File Not Found")
typealias HTTPStatus = (code : Int, message : String)
```

## Collection Types

Kolekcije su prve kompleksnije strukture podataka koje Swift pruÅ¾a:

* niz, tj. `Array`
* set, tj. `Set`
* reÄnik, tj. `Dictionary`

![](../assets/CollectionTypes_intro_2x.png)

Primer niza:

```
let ekipa = ["Boris", "Ivan", "Vlada", "Alek"]
// puna deklaracija
let crew: [String] = ["Boris", "Ivan", "Vlada", "Alek"]
```

Primer reÄnika:

```
let responseStatuses = [404: "File not found", 403: "Permission denied"]
// puna deklaracija
let httpStatuses: [Int: String]
```




# iOS dev

Osnovni vodiÄ za dizajn iOS aplikacija jeste [iOS Human Interface Guidelines](https://developer.apple.com/ios/human-interface-guidelines/). *Obavezno* proÄitati barem jednom u narednih mesec dana, pogotovo ako niste koristili iOS do sada.

## Koncepti: Views, Subviews, Controls ğŸ¤”

1. `UIScreen` = reprezentacija fiziÄkog ureÄ‘aja.
2. `UIView` = osnova svega u iOS-u
3. `UIWindow` = podvrsta UIView, koji stoji na vrhu svega, odmah ispod UIScreen.
4. `UIControl` = podvrsta UIView-a sa dodatnim parametrima i moguÄ‡nostima
5. `UIButton`, `UITextField`, `UISwitch` itd - sve su to podvrste `UIControl` 
itd.

Kako da posmatrate ove stvari: brojeve i stringove znate iz realnog Å¾ivota. Imaju svoju namenu i intuitivno znamo Äemu sluÅ¾e i imaju istu namenu u programiranju.

Sve ove `UI*` stvari - nisu niÅ¡ta drugo nego tipovi podataka, smiÅ¡ljeni i kreirani kao reprezentacija â€œvrednostiâ€ odnosno objekata koji su neophodni za kreiranje programskih interfejsa.

View je apstraktni objekat koji na najosnovnijem nivou predstavlja 2D pravougaonik u kome se neÅ¡to iscrtava. Recimo list papira. 

Kontrola se zasniva na viewu jer joj je potreban deo tog papira da bude iscrtana. Ali pritom ima i dodatne moguÄ‡nosti, da recimo reaguje na dodir. `UISwitch` je kontrola koja bukvalno predstavlja prekidaÄ i te spomenute dodatne moguÄ‡nosti kod Switcha su da moÅ¾e da pruÅ¾i informaciju o trenutnom stanu - da li je on/off - i da dojavi kada se to stanje promeni.

(Videti Xcode Debug View prikaz)






## Project

Jednu app Äini mnogo razliÄitih fajlova. _Project_ je container za sve te fajlove.

* File â†’ New project 
* Single View
* Ime projekta - preporuka da bude bez razmaka, jer Xcode to iskoristi za ime foldera
* Organization = ime kompanije / liÄno ime
* Organization Identifier = vrlo bitno.
Preporuka: reverzni DNS web sajta
	= Bundle identifier na App Storeu
* Obavezno selektovati: Create git repository on `My Mac`

`.xcodeproj` ekstenzija je zapravo folder sa specijalnim imenom koji krije razne informacije koje su Xcodeu neophodne da zapamti opÅ¡ta setovanja projekta, koji fajl ste poslednji menjali pa da ga odmah na poÄetku prikaÅ¾e itd.

### Storyboards, Xibs

Å ta se krije iza `.storyboard` ekstenzije?
XML format koji opisuje scene i kontrole koje Äine UI.

Kako videti taj XML format:

- klik na Main.storyboard
- klik na Version Editor
- klik na Standard Editor





## NaÅ¡a prva app: Calculator

RekreiraÄ‡emo UI Appleove Calculator app, iz iOS 10:

![](../assets/calculator/calculator-portrait.jpg)
![](../assets/calculator/calculator-landscape.jpg)

### Projekat, podeÅ¡avanja

* PROJECT, podesiti iOS deployment target. 
GaÄ‘ati najviÅ¡e jednu _major_ iOS verziju pre aktuelne *ili* aktuelnu verziju

### Kako iOS zna gde je poÄetak aplikacije?

- klik na Project, 
- klik na Target
- General tab
	"Main Interface"
- Main.storyboard â†’ View Controller â†’ Attributes Inspector
- Is Initial View Controller = ON






## Interface Builder

Komponenta Xcode-a u kojoj se crta interfejs (UI) aplikacije.
Od raznih tehnologija koje se koriste za kreiranje interfejsa, najbitnija jeâ€¦

### Auto Layout

Auto Layout u praksi znaÄi da vi kreirate set pravila koja definiÅ¡u meÄ‘usobni odnos kontrola i viewova na ekranu, Å¡to se putem koda prevodi u sistem jednaÄina koje Auto Layout engine reÅ¡ava i raÄuna taÄne veliÄine i pozicije za svaki view/kontrolu.

Svako takvo pravilo se zove *constraint* i osnovni format je:

```
Item1.attribute = Item2.attribute * multiplier + constant
```

U Xcodeu to izgleda ovako:

![](../assets/ib-constraint.png)

Sem ovih parametara constrainta, joÅ¡ par stvari je bitno, pogotovo kada se stvari zakomplikuju pa ima mnogo â€œjednaÄinaâ€ koje AL engine treba da reÅ¡i:

* Constraint priority
* Implicit, odnosno [Intrinsic Content Size](https://cocoacasts.com/what-is-intrinsic-content-size/)
* [Content Hugging](https://littlebitesofcocoa.com/69-compression-resistance-content-hugging)
* [Compression Resistance](https://littlebitesofcocoa.com/69-compression-resistance-content-hugging)

Q: Å ta je minimalni set potrebnih constrainta da bi layout bio validan, odnosno potpuno definisan?

* U naÄelu, za svaki view morate imati minimum 2 constrainta po  svakoj od dimenzija: horizontalno i vertikalno 
* Kombinacije mogu biti razliÄite: 
	- horizontalni poÄetak (udaljenost od _leading_ ivice superviewa) + Å¡irina
	- udaljenost od _leading_ ivice superviewa + udaljenost od _trailing_ ivice superviewa
itd.


### ZaÅ¡to je Auto Layout potreban?

* sve viÅ¡e rastuÄ‡a koliÄina [razliÄitih iPhone i iPad rezolucija](http://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions)
* A tu su i ï£¿á´¡á´€á´›á´„Êœ i ï£¿tv :)

* [iosres.com](http://iosres.com)

(Pogledajte i fajl [resursi.html](../resursi.html) u predavanja git repou, za dodatne korisne linkove)
